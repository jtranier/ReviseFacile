(function(t){function e(e){for(var r,o,a=e[0],u=e[1],c=e[2],d=0,m=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==s[u]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"285b":function(t,e,n){},4678:function(t,e,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=i,t.exports=s,s.id="4678"},"4f8b":function(t,e,n){},5635:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("1276");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("Footer")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-bottom":"2%","margin-top":"2rem","text-align":"center"}},[n("p",[n("small",[n("router-link",{attrs:{to:"/"}},[t._v("ReviZoodle")]),t._v(" is open source")],1),t._v(" - "),t._m(0)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",[n("a",{attrs:{href:"https://github.com/jtranier/Revizoodle"}},[t._v("GitHub")])])}],u={name:"Footer"},c=u,l=n("2877"),d=Object(l["a"])(c,o,a,!1,null,null,null),m=d.exports,h={name:"App",components:{Footer:m}},f=h,p=Object(l["a"])(f,s,i,!1,null,null,null),b=p.exports,v=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:"/teacher",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.course.name))])],1),n("hr"),n("router-link",{attrs:{to:{name:"RegisterCourse",params:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){e.href;var r=e.route;return[n("code",[t._v(t._s(t.url)+"/#"+t._s(r.fullPath))])]}}])}),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("router-link",{attrs:{to:"/teacher/course/"+t.course.id+"/add-quiz-action",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[t._v(" Ajouter ")])]}}])}),n("course-quiz-list",{attrs:{"quiz-list":t.course.quizList,"course-id":t.courseId}})],1)},g=[],q=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("hr"),0===t.sortedQuizList.length?n("p",[t._v("Ce cours ne contient aucun quiz pour l'instant.")]):t._e(),t._l(t.sortedQuizList,(function(e){return n("course-quiz-list-item",{key:"quiz"+e.id,attrs:{"quiz-id":e.id,"course-id":t.courseId,name:e.name,date:e.updatedAt,"nb-questions":e.nbQuestions}})})),n("hr")],2)}),z=[],y=n("5530"),w=(n("4e82"),n("fb6a"),n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[t._v(t._s(t.name))]),n("td",{staticStyle:{"text-align":"right"}})])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"two-thirds column"},[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("td",[t._v(t._s(t.moment(t.date).format("L")))]),n("td",[t._v(t._s(t.nbQuestions)+" questions")])])])])]),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:{name:"QuizResultsView",params:{courseId:t.courseId,quizId:t.quizId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[t._v(" RÃ©sultats ")])]}}])})],1)])])}),j=[],C=n("c1df"),I=n.n(C),k={name:"course-quiz-list-item",props:{quizId:{type:[Number,String],required:!0},courseId:{type:[Number,String],required:!0},name:String,date:Date,nbQuestions:Number},methods:{moment:I.a}},x=k,S=Object(l["a"])(x,w,j,!1,null,"2ac8e4bc",null),L=S.exports,Q={name:"course-quiz-list",components:{"course-quiz-list-item":L},props:{"quiz-list":Array,courseId:{type:[Number,String],required:!0}},computed:{sortedQuizList:function(){return this.quizList.map((function(t){return Object(y["a"])(Object(y["a"])({},t),{},{updatedAt:I()(t.updatedAt).toDate()})})).slice().sort((function(t,e){return e.updatedAt-t.updatedAt}))}}},A=Q,N=Object(l["a"])(A,q,z,!1,null,"5613b24a",null),M=N.exports,T=n("d4ec"),E=n("bee2"),O=(n("d3b7"),n("bc3a")),$=n.n(O),F=$.a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),D=function(){function t(){Object(T["a"])(this,t)}return Object(E["a"])(t,[{key:"get",value:function(t){return F.get("/course/".concat(t))}},{key:"findAllMyCourse",value:function(){return F.get("/course")}},{key:"create",value:function(t){var e=new FormData;return e.append("name",t),F.post("/course",e).then((function(t){return t.data})).catch((function(t){console.error(t)}))}},{key:"addQuiz",value:function(t,e){var n=new FormData;return n.append("quizId",e),F.post("/course/".concat(t,"/add-quiz"),n).then((function(){return{success:!0}})).catch((function(t){console.error(t)}))}},{key:"register",value:function(t){return new Promise((function(e,n){F.post("/course/".concat(t,"/register")).then((function(t){if(!t.data.success)throw t.data;e()})).catch((function(t){n(t)}))}))}}]),t}(),P=new D,V={name:"course-view",components:{"course-quiz-list":M},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{url:window.location.host,course:{id:-1,teacherUuid:"",name:"",updatedAt:null,quizList:[]}}},created:function(){var t=this;P.get(this.courseId).then((function(e){t.course=e.data})).catch((function(t){console.error(t)}))}},R=V,H=Object(l["a"])(R,_,g,!1,null,"21ccf0c4",null),U=H.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("teacher-course-list",{attrs:{value:t.courseList},on:{"create-course":t.createCourse}})},B=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"one-third column"},[n("button",{directives:[{name:"show",rawName:"v-show",value:!t.createFormVisible,expression:"!createFormVisible"}],staticClass:"button-primary u-full-width",on:{click:t.showCreateForm}},[t._v(" CrÃ©er ")])])]),n("course-create-form",{directives:[{name:"show",rawName:"v-show",value:t.createFormVisible,expression:"createFormVisible"}],on:{hide:t.hideCreateForm,"create-course":t.createCourse}}),t.sortedCourseList&&t.sortedCourseList.length?t._e():[n("p",[t._v("Vous n'avez crÃ©Ã© aucun cours.")])],t.sortedCourseList&&t.sortedCourseList.length?[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",t._l(t.sortedCourseList,(function(t){return n("course-list-item",{key:"course-"+t.id,attrs:{name:t.name,id:t.id,date:t.date}})})),1)]),n("hr")]:t._e()],2)},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"two-thirds column"},[n("h4",{staticStyle:{"margin-bottom":"1em"}},[t._v("Mes cours")])])}],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:"/teacher/course/"+t.id,custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("tr",{staticStyle:{cursor:"pointer"},on:{click:r}},[n("th",[t._v(" "+t._s(t.name)+" ")]),n("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.moment(t.date).format("L")))]),n("td",{staticStyle:{"text-align":"right"}},[n("router-link",{staticClass:"bouton-avance",attrs:{to:"/teacher/course/"+t.id}},[t._v(">")])],1)])]}}])})},Z=[],K={name:"course-list-item",props:{id:{type:[Number,String],required:!0},name:String,date:Date},methods:{moment:I.a}},X=K,tt=Object(l["a"])(X,W,Z,!1,null,"05a4be3c",null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.createCourse.apply(null,arguments)}}},[n("label",{attrs:{for:"inputCourseName"}},[t._v("Nom :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newCourseName,expression:"newCourseName"}],staticClass:"u-full-width",attrs:{type:"text",placeholder:"1A Phys1 S1",id:"inputCourseName"},domProps:{value:t.newCourseName},on:{input:function(e){e.target.composing||(t.newCourseName=e.target.value)}}}),t.errorEmptyName?n("div",{staticClass:"vue"},[t._m(0)]):t._e(),n("button",{staticClass:"button-success u-full-width",attrs:{type:"submit"}},[t._v("Valider")]),n("button",{staticClass:"button-warning u-full-width",on:{click:t.hide}},[t._v("Annuler")])])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("em",[t._v("Veuillez saisir un nom.")])])}],st=(n("498a"),{name:"course-create-form",data:function(){return{newCourseName:"",errorEmptyName:!1}},methods:{createCourse:function(){if(this.newCourseName&&""!==this.newCourseName.trim()){var t=this.newCourseName;this.$emit("create-course",t),this.hide(),this.newCourseName=""}else this.errorEmptyName=!0},hide:function(){this.$emit("hide")}}}),it=st,ot=Object(l["a"])(it,nt,rt,!1,null,"247f0c2f",null),at=ot.exports,ut={name:"teacher-course-list",components:{"course-create-form":at,"course-list-item":et},data:function(){return{createFormVisible:!1}},props:{value:Array},computed:{sortedCourseList:function(){return this.value.slice().sort((function(t,e){return e.updatedAt-t.updatedAt}))}},methods:{showCreateForm:function(){this.createFormVisible=!0},hideCreateForm:function(){this.createFormVisible=!1},createCourse:function(t){this.$emit("create-course",t)}}},ct=ut,lt=Object(l["a"])(ct,J,G,!1,null,"f1d44b6c",null),dt=lt.exports,mt={name:"TeacherView",components:{"teacher-course-list":dt},data:function(){return{courseList:[]}},created:function(){var t=this;P.findAllMyCourse().then((function(e){t.courseList=e.data})).catch(console.error)},methods:{createCourse:function(t){var e=this;P.create(t).then((function(t){e.courseList.unshift(t)})).catch(console.error)}}},ht=mt,ft=Object(l["a"])(ht,Y,B,!1,null,"879e80b8",null),pt=ft.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[n("h2",{staticClass:"title",staticStyle:{"text-align":"center"}},[t._v("ReviZoodle")]),n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column",staticStyle:{"text-align":"center","margin-top":"1rem",padding:"1rem"}},[n("h4",[t._v("Enseignants")]),n("hr"),t._m(0),n("router-link",{staticClass:"button button-primary u-full-width",attrs:{to:"/teacher"}},[t._v("AccÃ¨s enseignant")]),n("hr")],1),n("div",{staticClass:"one-half column",staticStyle:{"text-align":"center","margin-top":"1rem",padding:"1rem"}},[n("h4",[t._v("Ãtudiants")]),n("hr"),t._m(1),n("router-link",{staticClass:"button button-primary u-full-width",attrs:{to:"/learner"}},[t._v("AccÃ¨s Ã©tudiant")]),n("hr")],1)])])},vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("Importez vos QCM Moodle")]),n("li",[t._v("Entrainez vos Ã©tudiants facilement")]),n("li",[t._v("Consultez les rÃ©sultats en 1 clin d'oeil")]),n("li",[t._v("100% RGPD")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("RÃ©pondez aux questions de vos enseignants")]),n("li",[t._v("Une interface simple et claire")]),n("li",[t._v("Entrainez-vous encore et encore")]),n("li",[t._v("100% RGPD")])])}],_t={name:"HomeView",components:{}},gt=_t,qt=(n("9a53"),Object(l["a"])(gt,bt,vt,!1,null,"7b2bed40",null)),zt=qt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:t.backRouterLink,custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[t._v("Question "+t._s(t.currentQuestionIndex)+" / "+t._s(t.nbQuestions))])],1),n("question",t._b({},"question",t.currentQuestion,!1)),n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column"},[t.questionIndex>1?n("router-link",{attrs:{to:"/teacher/quiz/"+t.quizId+"/question/"+t.previousIndex,custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[t._v(" < ")])]}}],null,!1,1592209410)}):t._e(),t.questionIndex<=1?n("button",{staticClass:"u-full-width",attrs:{disabled:""}},[t._v(" < ")]):t._e(),n("div",{staticClass:"u-full-width"},[t._v("Â ")])],1),n("div",{staticClass:"one-half column"},[t.questionIndex<t.nbQuestions?n("router-link",{attrs:{to:"/teacher/quiz/"+t.quizId+"/question/"+t.nextIndex,custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[t._v(" > ")])]}}],null,!1,2011718528)}):t._e(),t.questionIndex>=t.nbQuestions?n("button",{staticClass:"u-full-width",attrs:{disabled:""}},[t._v(" > ")]):t._e()],1)])])],1)},wt=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"questionEl",staticClass:"question-container"},[n("span",{domProps:{innerHTML:t._s(t.statement)}}),t._l(t.answers,(function(e,r){return n("div",{key:"answer-"+r},[n("answer",{attrs:{text:e.text,"score-fraction":e.scoreFraction,multichoice:"multichoice"===t.type,feedback:e.feedback}})],1)})),t.explanation?[t._m(0),n("span",{domProps:{innerHTML:t._s(t.explanation)}})]:t._e()],2)},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticStyle:{"margin-top":"2em"}},[n("strong",[t._v("Explication :")])])}],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bouton-reponse u-full-width",class:{"bouton-vert":"correct"===t.scoreColor,"bouton-jaune":"partially-correct"===t.scoreColor,"bouton-orange":"incorrect"===t.scoreColor}},[n("span",{domProps:{innerHTML:t._s(t.text)}})]),n("small",{domProps:{innerHTML:t._s(t.feedback)}})])},kt=[],xt={name:"answer",props:{text:String,feedback:String,scoreFraction:Number,multichoice:Boolean},computed:{scoreColor:function(){return 100===this.scoreFraction||this.multichoice&&this.scoreFraction>0?"correct":0===this.scoreFraction?"incorrect":!this.multichoice&&this.scoreFraction>0?"partially-correct":""}}},St=xt,Lt=Object(l["a"])(St,It,kt,!1,null,"56ea177e",null),Qt=Lt.exports,At={name:"question",components:{Answer:Qt},props:{name:String,statement:String,answers:Array,explanation:String,type:String},mounted:function(){this.renderMathJax()},updated:function(){this.renderMathJax()},methods:{renderMathJax:function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.questionEl])}}},Nt=At,Mt=Object(l["a"])(Nt,jt,Ct,!1,null,"b1fd9184",null),Tt=Mt.exports,Et=function(){function t(){Object(T["a"])(this,t)}return Object(E["a"])(t,[{key:"get",value:function(t){return F.get("/moodle-quiz/".concat(t))}},{key:"getWithLastTraining",value:function(t){return new Promise((function(e,n){F.get("/moodle-quiz/".concat(t,"/latest-training")).then((function(t){e(t.data)})).catch(n)}))}},{key:"findAllMyQuiz",value:function(){return new Promise((function(t,e){return F.get("/moodle-quiz").then((function(e){t(e.data.map((function(t){return Object(y["a"])(Object(y["a"])({},t),{},{date:I()(t.date).toDate()})})))})).catch((function(t){e(t)}))}))}},{key:"getResults",value:function(t){return new Promise((function(e,n){F.get("/moodle-quiz/".concat(t,"/results")).then((function(t){e(t.data)})).catch(n)}))}}]),t}(),Ot=new Et,$t={name:"quiz-view",components:{Question:Tt},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0},questionIndex:{type:[Number,String]}},data:function(){return{quiz:{name:"",questions:[]},backRouterLink:{name:"QuizListView"}}},created:function(){var t=this;this.courseId&&(this.backRouterLink={name:"CourseAddQuizAction",params:{courseId:this.courseId}}),Ot.get(this.quizId).then((function(e){t.quiz=e.data})).catch(console.error)},computed:{currentQuestionIndex:function(){return Math.max(Math.min(this.questionIndex,this.nbQuestions),1)},currentQuestion:function(){return this.quiz&&this.quiz.questions&&this.quiz.questions.length?this.quiz.questions[this.currentQuestionIndex-1]:null},nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0},previousIndex:function(){return Math.max(this.currentQuestionIndex-1,1)},nextIndex:function(){return Math.min(this.currentQuestionIndex+1,this.nbQuestions)}}},Ft=$t,Dt=Object(l["a"])(Ft,yt,wt,!1,null,"90918fb6",null),Pt=Dt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:"/teacher/moodle-upload",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[t._v(" Importer ")])]}}])})],1)]),n("quiz-list",{attrs:{"quiz-list":t.quizList}})],1)},Rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"two-thirds column"},[n("h4",{staticStyle:{"margin-bottom":"1em"}},[t._v("Mes quiz")])])}],Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.sortedQuizList,(function(e){return n("quiz-list-item",{key:"quiz"+e.id,attrs:{courseId:t.courseId,id:e.id,name:e.name,date:e.date,"nb-questions":e.nbQuestions,"mode-add-quiz":t.modeAddQuiz},on:{"add-quiz-to-course":t.addQuizToCourse}})})),n("hr")],2)},Ut=[],Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[t._v(t._s(t.name))])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"one-third column"},[n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.nbQuestions)+" questions")])]),t.modeAddQuiz?t._e():n("div",{staticClass:"one-third column"},[t._v("Â ")]),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:{name:"QuizView",params:{courseId:t.courseId,quizId:t.id,questionIndex:1}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[t._v(" Voir ")])]}}])})],1),t.modeAddQuiz?n("div",{staticClass:"one-third column"},[n("button",{staticClass:"button-primary u-full-width",on:{click:t.addQuizToCourse}},[t._v("Choisir")])]):t._e()])])},Bt=[],Jt={name:"quiz-list-item",props:{courseId:{type:[Number,String],default:null},id:Number,name:String,date:Date,nbQuestions:Number,modeAddQuiz:{type:Boolean,default:!1}},methods:{moment:I.a,addQuizToCourse:function(){this.$emit("add-quiz-to-course",this.id)}}},Gt=Jt,Wt=Object(l["a"])(Gt,Yt,Bt,!1,null,"88e9b2e2",null),Zt=Wt.exports,Kt={name:"quiz-list",components:{"quiz-list-item":Zt},props:{courseId:{type:[Number,String],default:null},"quiz-list":Array,modeAddQuiz:{type:Boolean,default:!1}},computed:{sortedQuizList:function(){return this.quizList.slice().sort((function(t,e){return e.date-t.date}))}},methods:{addQuizToCourse:function(t){this.$emit("add-quiz-to-course",t)}}},Xt=Kt,te=Object(l["a"])(Xt,Ht,Ut,!1,null,"4196e24e",null),ee=te.exports,ne={name:"quiz-list-view",components:{"quiz-list":ee},props:{courseId:{type:Number,default:-1}},data:function(){return{quizList:[]}},created:function(){var t=this;Ot.findAllMyQuiz().then((function(e){t.quizList=e.slice().sort((function(t,e){return e.date-t.date}))})).catch(console.error)},computed:{isAddQuizMode:function(){return this.courseId>0}}},re=ne,se=Object(l["a"])(re,Vt,Rt,!1,null,"5bb32024",null),ie=se.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[t._m(0),n("div",{staticClass:"row"},[n("form",{on:{submit:t.upload}},[n("input",{ref:"xmlFile",attrs:{type:"file",name:"xmlFile"},on:{change:t.onFilePicked}}),n("label",{attrs:{for:"inputQuizName"}},[t._v("Nom :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.quizName,expression:"quizName"}],staticClass:"u-full-width",attrs:{type:"text",placeholder:"1A Phys1 S1",id:"inputQuizName"},domProps:{value:t.quizName},on:{input:function(e){e.target.composing||(t.quizName=e.target.value)}}}),n("button",{staticClass:"button-primary",attrs:{type:"submit",disabled:null===t.xmlFile}},[t._v(" Importer ")])])])])},ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("h4",{staticStyle:{"margin-bottom":"1em"}},[t._v("Importer un quiz Moodle")])])}],ue=(n("b0c0"),{name:"MoodleQuizUploadForm",data:function(){return{quizName:"",xmlFileDataUrl:null,xmlFile:null,courseId:null}},created:function(){this.$route.query.courseId&&(this.courseId=this.$route.query.courseId)},methods:{upload:function(t){var e=this;if(t.preventDefault(),!this.xmlFile)return!1;var n=new FormData;n.append("xmlFile",this.xmlFile),n.append("quizName",this.quizName),F.post("xml/upload",n).then((function(t){t.data.success?e.courseId?e.$router.push("/teacher/course/".concat(e.courseId,"/add-quiz-action")):e.$router.push("/teacher/quiz"):(alert("Le quiz n'a pas pu Ãªtre importÃ©"),console.err(t.data.error))})).catch(console.error)},onFilePicked:function(t){var e=this,n=t.target.files,r=n[0].name;""===this.quizName&&(this.quizName=r);var s=new FileReader;s.addEventListener("load",(function(){e.xmlFileDataUrl=s.result})),s.readAsDataURL(n[0]),this.xmlFile=n[0]}}}),ce=ue,le=Object(l["a"])(ce,oe,ae,!1,null,"6582f1ee",null),de=le.exports,me=n("2106"),he=n.n(me),fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:{name:"CourseView",params:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center","margin-top":"3%"}},[t._v('Ajouter un quiz au cours "'+t._s(t.course.name)+'"')]),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("router-link",{attrs:{to:{name:"MoodleQuizUploadForm",query:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[t._v(" Importer un quiz Moodle ")])]}}])}),n("quiz-list",{attrs:{"quiz-list":t.quizList,courseId:t.courseId,"mode-add-quiz":!0},on:{"add-quiz-to-course":t.addQuizToCourse}})],1)},pe=[],be={name:"course-add-quiz-view",components:{"quiz-list":ee},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{course:{name:""},quizList:[]}},created:function(){var t=this;P.get(this.courseId).then((function(e){t.course=e.data})).catch((function(t){console.error(t)})),Ot.findAllMyQuiz().then((function(e){t.quizList=e.slice().sort((function(t,e){return e.date-t.date}))})).catch(console.error)},methods:{addQuizToCourse:function(t){var e=this;P.addQuiz(this.courseId,t).then((function(){Xn.push("/teacher/course/".concat(e.courseId))})).catch((function(t){console.error(t)}))}}},ve=be,_e=Object(l["a"])(ve,fe,pe,!1,null,"5b191a36",null),ge=_e.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("learner-course-list",{attrs:{value:t.courseList}})},ze=[],ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("h4",{staticStyle:{"margin-bottom":"1em"}},[t._v("Mes cours")]),t.sortedCourseList&&t.sortedCourseList.length?t._e():[n("p",[t._v("Vous n'Ãªtes abonnÃ© aucun cours.")])],t.sortedCourseList&&t.sortedCourseList.length?[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",t._l(t.sortedCourseList,(function(t){return n("learner-course-list-item",{key:"course-"+t.id,attrs:{name:t.name,id:t.id,date:t.date}})})),1)]),n("hr")]:t._e()],2)},we=[],je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:t.id}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("tr",{staticStyle:{cursor:"pointer"},on:{click:r}},[n("th",[t._v(t._s(t.name))]),n("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.moment(t.date).format("L")))]),n("td",{staticStyle:{"text-align":"right"}},[n("router-link",{staticClass:"bouton-avance",attrs:{to:{name:"LearnerCourseView",params:{courseId:t.id}}}},[t._v("> ")])],1)])]}}])})},Ce=[],Ie={name:"learner-course-list-item",props:{id:{type:[Number,String],required:!0},name:String,date:Date},methods:{moment:I.a}},ke=Ie,xe=Object(l["a"])(ke,je,Ce,!1,null,"42dc8a5b",null),Se=xe.exports,Le={name:"learner-course-list",components:{"learner-course-list-item":Se},props:{value:Array},computed:{sortedCourseList:function(){return this.value.slice().sort((function(t,e){return e.updatedAt-t.updatedAt}))}}},Qe=Le,Ae=Object(l["a"])(Qe,ye,we,!1,null,"9d7594e0",null),Ne=Ae.exports,Me=function(){function t(){Object(T["a"])(this,t)}return Object(E["a"])(t,[{key:"findAllMyRegisteredCourse",value:function(){return new Promise((function(t,e){return F.get("/learner/course").then((function(e){t(e.data.map((function(t){return Object(y["a"])(Object(y["a"])({},t),{},{date:I()(t.date).toDate()})})))})).catch((function(t){e(t)}))}))}},{key:"findAllTrainingsForCourse",value:function(t){return new Promise((function(e,n){F.get("/learner/course/".concat(t)).then((function(t){e(t.data.map((function(t){return Object(y["a"])(Object(y["a"])({},t),{},{quizDate:I()(t.date).toDate()})})))})).catch((function(t){n(t)}))}))}},{key:"updateLearnerAnswers",value:function(t,e,n){return new Promise((function(r,s){var i=new FormData;i.append("questionIndex",e),i.append("learnerAnswers",JSON.stringify(n)),F.put("/learner/training/".concat(t),i).then(r).catch(s)}))}},{key:"updateScore",value:function(t,e){return new Promise((function(n,r){var s=new FormData;s.append("score",e),F.put("/learner/training/".concat(t,"/score"),s).then(n).catch(r)}))}},{key:"redoTraining",value:function(t){return new Promise((function(e,n){F.post("/moodle-quiz/".concat(t,"/redo-training")).then(e).catch(n)}))}}]),t}(),Te=new Me,Ee={name:"LearnerView",components:{"learner-course-list":Ne},data:function(){return{courseList:[]}},created:function(){var t=this;Te.findAllMyRegisteredCourse().then((function(e){t.courseList=e})).catch(console.error)}},Oe=Ee,$e=Object(l["a"])(Oe,qe,ze,!1,null,"0a8fa7af",null),Fe=$e.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:"/learner",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.course.name))])],1),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("training-list",{attrs:{"training-list":t.quizTrainingList,"course-id":t.courseId}})],1)},Pe=[],Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.trainingList,(function(e){return n("training-list-item",{key:"training-"+e.quizId,attrs:{"course-id":t.courseId,"quiz-id":e.quizId,"quiz-title":e.quizTitle,"quiz-date":e.quizDate,"last-training-current-question":e.lastTrainingCurrentQuestion,"quiz-nb-questions":e.quizNbQuestions,score:e.score}})})),1)},Re=[],He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[t._v(t._s(t.quizTitle))]),n("td",{staticStyle:{"text-align":"right","min-width":"9em"}},[n("strong",[t._v(t._s(t.displayedStatus))])])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"two-thirds column"},[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("td",[t._v(t._s(t.moment(t.quizDate).format("L")))]),n("td",[t._v(t._s(t.quizNbQuestions)+" question(s)")])])])])]),n("div",{staticClass:"one-third column"},[null===t.score?n("router-link",{attrs:{to:{name:"PlayQuiz",params:{courseId:t.courseId,quizId:t.quizId,questionIndex:1}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[null==t.lastTrainingCurrentQuestion?n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[t._v(" DÃ©marrer ")]):n("button",{staticClass:"button-warning u-full-width",on:{click:r}},[t._v(" Continuer ")])]}}],null,!1,1401664482)}):t._e(),null!==t.score?n("button",{staticClass:"button-primary u-full-width",on:{click:t.redoTraining}},[t._v(" Refaire ")]):t._e()],1)]),n("hr")])},Ue=[],Ye=(n("99af"),{name:"training-list-item",props:{quizId:[Number,String],courseId:[Number,String],quizTitle:String,quizDate:Date,lastTrainingCurrentQuestion:Number,quizNbQuestions:Number,score:Number},computed:{displayedStatus:function(){return null===this.lastTrainingCurrentQuestion?"Non dÃ©marrÃ©":null===this.score?"Avancement : ".concat(this.lastTrainingCurrentQuestion+1,"/").concat(this.quizNbQuestions):"Score : ".concat(this.score,"%")}},methods:{moment:I.a,redoTraining:function(){var t=this;Te.redoTraining(this.quizId).then((function(){t.$router.push({name:"PlayQuiz",params:{courseId:t.courseId,quizId:t.quizId,questionIndex:1}})})).catch(console.error)}}}),Be=Ye,Je=Object(l["a"])(Be,He,Ue,!1,null,"5b38ccfd",null),Ge=Je.exports,We={name:"TrainingList",components:{"training-list-item":Ge},props:{courseId:[Number,String],trainingList:Array}},Ze=We,Ke=Object(l["a"])(Ze,Ve,Re,!1,null,"004273f6",null),Xe=Ke.exports,tn={name:"course-view",components:{"training-list":Xe},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{course:{id:-1,teacherUuid:"",name:"",updatedAt:null,quizList:[]},quizTrainingList:[]}},created:function(){var t=this;P.get(this.courseId).then((function(e){t.course=e.data})).catch(console.error),Te.findAllTrainingsForCourse(this.courseId).then((function(e){t.quizTrainingList=e})).catch(console.error)}},en=tn,nn=Object(l["a"])(en,De,Pe,!1,null,"47ac7faa",null),rn=nn.exports,sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[n("h4",[t._v("Inscription au cours")]),n("hr",{staticStyle:{"margin-bottom":"2em"}}),"loading"===t.state?n("p",[t._v("OpÃ©ration en cours...")]):t._e(),"error"===t.state?n("div",[n("p",[t._v("Echec de l'inscription au cours.")]),n("code",[t._v(t._s(t.error))])]):t._e(),n("hr")])},on=[],an={name:"RegisterCourseView",props:{courseId:[Number,String]},data:function(){return{state:"loading",error:null}},created:function(){var t=this;P.register(this.courseId).then((function(){t.state="done",t.$router.push({name:"LearnerCourseView",params:{courseId:t.courseId}})})).catch((function(e){t.state="error",t.error=e,console.error(e)}))}},un=an,cn=Object(l["a"])(un,sn,on,!1,null,"5865f5c9",null),ln=cn.exports,dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.state!==t.States.COMPLETED&&t.currentQuestionIndex>0?n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}],null,!1,4266436430)}),n("h5",{staticStyle:{"text-align":"center"}},[t._v("Question "+t._s(t.currentQuestionIndex)+" / "+t._s(t.nbQuestions))])],1),n("learner-question",t._b({attrs:{index:t.currentQuestionIndex,learnerAnswer:t.quiz.learnerAnswers[t.currentQuestionIndex-1]},on:{submitLearnerAnswer:t.submitLearnerAnswer}},"learner-question",t.quiz.questions[t.currentQuestionIndex-1],!1)),t.state===t.States.SUBMITTED&&t.currentQuestionIndex<t.nbQuestions?n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:t.nextQuestion}},[t._v("Question suivante")])])]):t._e(),t.state===t.States.SUBMITTED&&t.currentQuestionIndex===t.nbQuestions?n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:t.finalizeTraining}},[t._v("Terminer")])])]):t._e()],1):t._e(),t.state===t.States.COMPLETED?n("training-result",{attrs:{score:t.trainingScore,"quiz-id":t.quizId,"course-id":t.courseId},on:{"restart-training":t.startTraining}}):t._e()],1)},mn=[],hn=n("2909"),fn=(n("c740"),n("b64b"),n("25eb"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-container"},[n("span",{domProps:{innerHTML:t._s(t.statement)}}),"multichoice"===t.type?n("p",{staticStyle:{"font-style":"italic","margin-bottom":"2em","margin-top":"1em"}},[t._v(" SÃ©lectionnez toutes les rÃ©ponses correctes ")]):t._e(),t._l(t.answers,(function(e,r){return n("div",{key:"answer-"+r},[n("choice",{attrs:{"choice-index":r,text:e.text,"is-selected":t.learnerAnswer.choices[r],"show-answer":t.learnerAnswer.submitted,"score-fraction":e.scoreFraction,feedback:e.feedback,multichoice:t.isMultipleChoice},on:{selectChoice:t.selectChoice,unselectChoice:t.unselectChoice}})],1)})),t.learnerAnswer.submitted&&(t.feedbacks.length>0||t.explanation)?n("div",{staticStyle:{"margin-top":"3%"}},[t._m(0),t._l(t.feedbacks,(function(e,r){return n("p",{key:r,domProps:{innerHTML:t._s(e)}})})),n("p",{domProps:{innerHTML:t._s(t.explanation)}})],2):t._e(),t.learnerAnswer.submitted?t._e():n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:t.submit}},[t._v("Soumettre")])])])],2)}),pn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("Explication :")])])}],bn=(n("4de4"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticClass:"bouton-reponse u-full-width",class:{"bouton-selectionne":this.isSelected&&!this.showAnswer,"bouton-vert":"correct"===t.scoreColor,"bouton-jaune":"partially-correct"===t.scoreColor,"bouton-orange":"incorrect"===t.scoreColor},attrs:{href:"."},domProps:{innerHTML:t._s(t.text)},on:{click:t.clickChoice}})])}),vn=[],_n={name:"choice",props:{choiceIndex:Number,text:String,showAnswer:Boolean,isSelected:Boolean,feedback:String,scoreFraction:Number,multichoice:Boolean},computed:{scoreColor:function(){return this.showAnswer?100===this.scoreFraction||this.multichoice&&this.scoreFraction>0?"correct":this.isSelected&&0===this.scoreFraction?"incorrect":this.isSelected&&!this.multichoice&&this.scoreFraction>0?"partially-correct":"":null}},methods:{clickChoice:function(t){t.preventDefault(),this.showAnswer||(this.isSelected?this.$emit("unselectChoice",this.choiceIndex):this.$emit("selectChoice",this.choiceIndex))}}},gn=_n,qn=Object(l["a"])(gn,bn,vn,!1,null,"10a8932e",null),zn=qn.exports,yn={name:"learner-question",components:{Choice:zn},props:{index:Number,statement:String,answers:Array,explanation:String,learnerAnswer:Object,type:String},computed:{isMultipleChoice:function(){return"multichoice"===this.type},feedbacks:function(){var t=this;return this.learnerAnswer.submitted?this.answers.filter((function(e,n){return t.learnerAnswer.choices[n]&&e.feedback})).map((function(t){return t.feedback})):[]}},mounted:function(){this.renderMathJax()},updated:function(){this.renderMathJax()},methods:{selectChoice:function(t){var e=this;this.isMultipleChoice||this.answers.forEach((function(t,n){e.$set(e.learnerAnswer.choices,n,!1)})),this.$set(this.learnerAnswer.choices,t,!0)},unselectChoice:function(t){this.isMultipleChoice&&this.$set(this.learnerAnswer.choices,t,!1)},submit:function(){this.learnerAnswer.score=wn(this.answers,this.learnerAnswer),this.$emit("submitLearnerAnswer",this.learnerAnswer)},renderMathJax:function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.questionEl])}}},wn=function(t,e){return t.reduce((function(t,n,r){return e.choices[r]?t+n.scoreFraction:t}),0)},jn=yn,Cn=Object(l["a"])(jn,fn,pn,!1,null,"201bdc35",null),In=Cn.exports,kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"10%"}},[n("h2",[t._v(t._s(t.trainingFeedback))]),n("p",[t._v("Votre score est de "),n("strong",[n("span",{attrs:{id:"valeur_score_bilan"}},[t._v(t._s(t.score))]),t._v("%")]),t._v(". Que voulez-vous faire ?")]),n("button",{staticClass:"button-primary u-full-width",on:{click:t.redoTraining}},[t._v("Recommencer")]),n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("button",{staticClass:"button u-full-width",on:{click:r}},[t._v("Changer de thÃ¨me")])]}}])})],1)},xn=[],Sn={name:"training-result",props:{score:Number,quizId:[Number,String],courseId:[Number,String]},data:function(){return{trainingFeedback:""}},created:function(){this.score<50?this.trainingFeedback="C'est un bon dÃ©but.":this.score<100?this.trainingFeedback="Bien jouÃ©.":this.trainingFeedback="Bravo !"},methods:{redoTraining:function(){var t=this;Te.redoTraining(this.quizId).then((function(){t.$emit("restart-training")})).catch(console.error)}}},Ln=Sn,Qn=Object(l["a"])(Ln,kn,xn,!1,null,"198b5a8a",null),An=Qn.exports,Nn={LOADING:"loading",ANSWERING:"answering",SUBMITTING:"submitting",SUBMITTED:"submitted",COMPLETED:"completed"},Mn={name:"learner-quiz-view",components:{LearnerQuestion:In,TrainingResult:An},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0}},data:function(){return{trainingId:-1,trainingScore:-1,States:Nn,state:Nn.LOADING,quizTitle:"",questionIndex:{},learnerAnswerIndex:{},quiz:{name:"",questions:[],learnerAnswers:{}},currentQuestionIndex:-1}},created:function(){this.startTraining()},computed:{nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0}},methods:{scrollToTop:function(){window.scrollTo(0,0)},nextQuestion:function(){this.currentQuestionIndex<this.nbQuestions&&(this.currentQuestionIndex++,this.state=Nn.ANSWERING,this.scrollToTop())},submitLearnerAnswer:function(){var t=this;this.state=Nn.SUBMITTING,Te.updateLearnerAnswers(this.trainingId,this.currentQuestionIndex-1,this.quiz.learnerAnswers).then((function(e){t.state=Nn.SUBMITTED,t.quiz.learnerAnswers=e.data})).catch(console.error)},finalizeTraining:function(){var t=this;this.trainingScore=Tn(this.quiz.learnerAnswers,this.quiz.questions.length),Te.updateScore(this.trainingId,this.trainingScore).then((function(){t.state=Nn.COMPLETED})).catch(console.error)},startTraining:function(){var t=this;Ot.getWithLastTraining(this.quizId).then((function(e){t.state=Nn.ANSWERING,t.quiz=e,t.quizTitle=e.name,t.trainingId=e.trainingId,t.currentQuestionIndex=1+Object.keys(t.quiz.learnerAnswers).sort((function(t,e){return Number.parseInt(t)-Number.parseInt(e)})).findIndex((function(e){return!1===t.quiz.learnerAnswers[e].submitted})),0===t.currentQuestionIndex&&(t.state=Nn.COMPLETED)})).catch(console.error)}}},Tn=function(t,e){return Math.ceil(Object(hn["a"])(Array(e)).reduce((function(e,n,r){return e+t[r].score}),0)/e)},En=Mn,On=Object(l["a"])(En,dn,mn,!1,null,"18351d1e",null),$n=On.exports,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"CourseView",params:{courseId:t.courseId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.quizName))])],1),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column"},[n("p",[n("strong",[t._v("Nombre de rÃ©pondants : ")]),t._v(t._s(t.nbLearners?t.nbLearners:"-"))])]),n("div",{staticClass:"one-half column"},[n("p",[n("strong",[t._v("Nombre d'essais : ")]),t._v(t._s(t.nbAttempts?t.nbAttempts:"-"))])])]),n("p",[n("strong",[t._v("Moyenne (au premier essai) : ")]),t._v(t._s(t.mean1stTry?t.mean1stTry+" %":"-"))]),n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",{attrs:{id:"body_table_scores_questions"}},t._l(t.results1stAttempt,(function(e,r){return n("tr",{key:r},[n("th",[t._v("Question "+t._s(r))]),n("td",[t._v(t._s(null!==e?e+" %":"-"))]),n("router-link",{attrs:{to:{name:"SingleQuestionView",params:{courseId:t.courseId,quizId:t.quizId,questionIndex:r+1}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("td",{staticClass:"bouton-avance",staticStyle:{"text-align":"right"},on:{click:r}},[t._v(">")])]}}],null,!0)})],1)})),0)])])},Dn=[],Pn={name:"quiz-results-view",props:{courseId:[Number,String],quizId:[Number,String]},data:function(){return{quizName:"loading...",nbLearners:null,nbAttempts:null,mean1stTry:null,results1stAttempt:[]}},created:function(){var t=this;Ot.getResults(this.quizId).then((function(e){t.quizName=e.quizName,t.nbLearners=e.nbLearners,t.nbAttempts=e.nbAttempts,t.results1stAttempt=e.results1stAttempt,t.results1stAttempt.length>0&&(t.mean1stTry=Math.floor(t.results1stAttempt.reduce((function(t,e){return t+e}),0)/t.results1stAttempt.length))})).catch(console.error)}},Vn=Pn,Rn=Object(l["a"])(Vn,Fn,Dn,!1,null,"a462e42a",null),Hn=Rn.exports,Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"QuizResultsView",params:{courseId:this.courseId,quizId:this.quizId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[t._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[t._v("Question "+t._s(t.currentQuestionIndex)+" / "+t._s(t.nbQuestions))])],1),n("question",t._b({},"question",t.currentQuestion,!1))],1)},Yn=[],Bn={name:"single-quiz-view",components:{Question:Tt},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0},questionIndex:{type:[Number,String]}},data:function(){return{quiz:{name:"",questions:[]}}},created:function(){var t=this;this.courseId&&(this.backRouterLink={name:"CourseAddQuizAction",params:{courseId:this.courseId}}),Ot.get(this.quizId).then((function(e){t.quiz=e.data})).catch(console.error)},computed:{currentQuestionIndex:function(){return Math.max(Math.min(this.questionIndex,this.nbQuestions),1)},currentQuestion:function(){return this.quiz&&this.quiz.questions&&this.quiz.questions.length?this.quiz.questions[this.currentQuestionIndex-1]:null},nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0}}},Jn=Bn,Gn=Object(l["a"])(Jn,Un,Yn,!1,null,"5436a5ed",null),Wn=Gn.exports;r["a"].use(v["a"]),r["a"].use(he.a,$.a);var Zn=[{path:"/",name:"HomeView",component:zt},{path:"/teacher",name:"TeacherView",component:pt},{path:"/teacher/course/:courseId",name:"CourseView",component:U,props:!0},{path:"/teacher/course/:courseId/quiz/:quizId/results",name:"QuizResultsView",component:Hn,props:!0},{path:"/teacher/course/:courseId/add-quiz-action",name:"CourseAddQuizAction",component:ge,props:!0},{path:"/teacher/quiz/:quizId",redirect:"/teacher/quiz/:quizId/question/1"},{path:"/teacher/quiz/:quizId/question/:questionIndex",name:"QuizView",component:Pt,props:!0},{path:"/teacher/course/:courseId/quiz/:quizId/question/:questionIndex",name:"SingleQuestionView",component:Wn,props:!0},{path:"/teacher/course/:courseId/quiz/:quizId",name:"CourseQuizView",redirect:"/teacher/course/:courseId/quiz/:quizId/question/1"},{path:"/teacher/course/:courseId/quiz/:quizId/question/:questionIndex",component:Pt,props:!0},{path:"/teacher/quiz",name:"QuizListView",component:ie},{path:"/teacher/moodle-upload",name:"MoodleQuizUploadForm",component:de},{path:"/learner",name:"LearnerView",component:Fe},{path:"/learner/course/:courseId",name:"LearnerCourseView",component:rn,props:!0},{path:"/learner/course/:courseId/register",name:"RegisterCourse",component:ln,props:!0},{path:"/learner/course/:courseId/quiz/:quizId",name:"PlayQuiz",component:$n,props:!0}],Kn=new v["a"]({routes:Zn,scrollBehavior:function(){return{x:0,y:0}}}),Xn=Kn,tr=n("2b27"),er=n.n(tr),nr=n("11c1");n("b489"),n("5635"),n("285b"),n("91ff"),n("a819"),n("4f8b");I.a.locale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t){return t+(1===t?"er":"e")},meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t){return t<12?"PD":"MD"},week:{dow:1,doy:4}}),r["a"].config.productionTip=!1,r["a"].use(er.a),new r["a"]({router:Xn,render:function(t){return t(b)},created:function(){null===this.$cookies.get("uuid")&&this.$cookies.set("uuid",Object(nr["v4"])(),1/0),F.defaults.headers.uuid=this.$cookies.get("uuid")}}).$mount("#app")},"6bdb":function(t,e,n){},"91ff":function(t,e,n){},"9a53":function(t,e,n){"use strict";n("6bdb")},a819:function(t,e,n){},b489:function(t,e,n){}});
//# sourceMappingURL=app.0e9716b9.js.map
(function(e){function t(t){for(var r,a,o=t[0],u=t[1],c=t[2],d=0,m=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2617:function(e,t,n){"use strict";n("304a")},"285b":function(e,t,n){},"304a":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="4678"},"4f8b":function(e,t,n){},5635:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("1276");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view"),n("Footer")],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-bottom":"2%","margin-top":"2rem","text-align":"center"}},[n("p",{staticStyle:{"margin-bottom":"0"}},[n("small",[n("router-link",{attrs:{to:"/"}},[e._v("ReviZoodle")]),e._v(" is open source")],1),e._v(" - "),e._m(0)]),n("p",[n("small",[n("router-link",{attrs:{to:"/uuid"}},[e._v("Compte utilisateur")])],1)])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",[n("a",{attrs:{href:"https://github.com/jtranier/Revizoodle"}},[e._v("GitHub")])])}],u={name:"Footer"},c=u,l=n("2877"),d=Object(l["a"])(c,a,o,!1,null,null,null),m=d.exports,h={name:"App",components:{Footer:m}},f=h,p=Object(l["a"])(f,s,i,!1,null,null,null),v=p.exports,b=n("8c4f"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:"/teacher",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.course.name))])],1),n("hr"),n("label",[e._v("Lien à communiquer à vos étudiants :")]),n("router-link",{attrs:{to:{name:"RegisterCourse",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){t.href;var r=t.route;return[n("code",{staticClass:"u-full-width"},[e._v(e._s(e.url)+"/#"+e._s(r.fullPath))])]}}])}),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("router-link",{attrs:{to:"/teacher/course/"+e.courseId+"/add-quiz-action",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[e._v(" Ajouter ")])]}}])}),n("course-quiz-list",{attrs:{"quiz-list":e.course.quizList,"course-id":e.courseId}})],1)},g=[],q=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hr"),0===e.sortedQuizList.length?n("p",[e._v("Ce cours ne contient aucun quiz pour l'instant.")]):e._e(),e._l(e.sortedQuizList,(function(t){return n("course-quiz-list-item",{key:"quiz"+t.id,attrs:{"quiz-id":t.id,"course-id":e.courseId,name:t.name,date:t.updatedAt,"nb-questions":t.nbQuestions}})}))],2)}),y=[],z=n("5530"),w=(n("4e82"),n("fb6a"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[e._v(e._s(e.name))]),n("td",{staticStyle:{"text-align":"right"}})])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"two-thirds column"},[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("td",[e._v(e._s(e.moment(e.date).format("L")))]),n("td",[e._v(e._s(e.nbQuestions)+" questions")])])])])]),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:{name:"QuizResultsView",params:{courseId:e.courseId,quizId:e.quizId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[e._v(" Résultats ")])]}}])})],1)]),n("hr")])}),C=[],j=n("c1df"),k=n.n(j),I={name:"course-quiz-list-item",props:{quizId:{type:[Number,String],required:!0},courseId:{type:[Number,String],required:!0},name:String,date:Date,nbQuestions:Number},methods:{moment:k.a}},x=I,S=Object(l["a"])(x,w,C,!1,null,"91646db4",null),A=S.exports,T={name:"course-quiz-list",components:{"course-quiz-list-item":A},props:{"quiz-list":Array,courseId:{type:[Number,String],required:!0}},computed:{sortedQuizList:function(){return this.quizList.map((function(e){return Object(z["a"])(Object(z["a"])({},e),{},{updatedAt:k()(e.updatedAt).toDate()})})).slice().sort((function(e,t){return t.updatedAt-e.updatedAt}))}}},L=T,Q=Object(l["a"])(L,q,y,!1,null,"0762418a",null),M=Q.exports,E=n("d4ec"),N=n("bee2"),O=(n("d3b7"),n("bc3a")),$=n.n(O),F=$.a.create({baseURL:"/api",headers:{"Content-type":"application/json"}}),D=function(){function e(){Object(E["a"])(this,e)}return Object(N["a"])(e,[{key:"get",value:function(e){return F.get("/course/".concat(e))}},{key:"findAllMyCourse",value:function(){return F.get("/course")}},{key:"create",value:function(e){var t=new FormData;return t.append("name",e),F.post("/course",t).then((function(e){return e.data})).catch((function(e){console.error(e)}))}},{key:"addQuiz",value:function(e,t){var n=new FormData;return n.append("quizId",t),F.post("/course/".concat(e,"/add-quiz"),n).then((function(){return{success:!0}})).catch((function(e){console.error(e)}))}},{key:"register",value:function(e){return new Promise((function(t,n){F.post("/course/".concat(e,"/register")).then((function(e){if(!e.data.success)throw e.data;t()})).catch((function(e){n(e)}))}))}}]),e}(),P=new D,V={name:"course-view",components:{"course-quiz-list":M},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{url:window.location.host,course:{id:-1,teacherUuid:"",name:"",updatedAt:null,quizList:[]}}},created:function(){var e=this;P.get(this.courseId).then((function(t){e.course=t.data})).catch((function(e){console.error(e)}))}},U=V,R=Object(l["a"])(U,_,g,!1,null,"526bcbc3",null),H=R.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("teacher-course-list",{attrs:{value:e.courseList},on:{"create-course":e.createCourse}})},B=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"two-thirds column"},[n("router-link",{attrs:{to:"/",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h4",{staticStyle:{"margin-bottom":"1em","margin-left":"1em"}},[e._v("Mes cours")])],1),n("div",{staticClass:"one-third column"},[n("button",{directives:[{name:"show",rawName:"v-show",value:!e.createFormVisible,expression:"!createFormVisible"}],staticClass:"button-primary u-full-width",on:{click:e.showCreateForm}},[e._v(" Créer ")])])]),n("course-create-form",{directives:[{name:"show",rawName:"v-show",value:e.createFormVisible,expression:"createFormVisible"}],on:{hide:e.hideCreateForm,"create-course":e.createCourse}}),e.sortedCourseList&&e.sortedCourseList.length?e._e():[n("p",[e._v("Vous n'avez créé aucun cours.")])],e.sortedCourseList&&e.sortedCourseList.length?[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",e._l(e.sortedCourseList,(function(e){return n("course-list-item",{key:"course-"+e.id,attrs:{name:e.name,id:e.id,date:e.date}})})),1)]),n("hr")]:e._e()],2)},G=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{attrs:{to:"/teacher/course/"+e.id,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("tr",{staticStyle:{cursor:"pointer"},on:{click:r}},[n("th",[e._v(" "+e._s(e.name)+" ")]),n("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.moment(e.date).format("L")))]),n("td",{staticStyle:{"text-align":"right"}},[n("router-link",{staticClass:"bouton-avance",attrs:{to:"/teacher/course/"+e.id}},[e._v(">")])],1)])]}}])})},Z=[],K={name:"course-list-item",props:{id:{type:[Number,String],required:!0},name:String,date:Date},methods:{moment:k.a}},X=K,ee=Object(l["a"])(X,W,Z,!1,null,"fff06512",null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.createCourse.apply(null,arguments)}}},[n("label",{attrs:{for:"inputCourseName"}},[e._v("Nom :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCourseName,expression:"newCourseName"}],staticClass:"u-full-width",attrs:{type:"text",placeholder:"1A Phys1 S1",id:"inputCourseName"},domProps:{value:e.newCourseName},on:{input:function(t){t.target.composing||(e.newCourseName=t.target.value)}}}),e.errorEmptyName?n("div",{staticClass:"vue"},[e._m(0)]):e._e(),n("button",{staticClass:"button-success u-full-width",attrs:{type:"submit"}},[e._v("Valider")]),n("span",{staticClass:"button button-warning u-full-width",on:{click:e.hide}},[e._v("Annuler")])])])},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("em",[e._v("Veuillez saisir un nom.")])])}],se=(n("498a"),{name:"course-create-form",data:function(){return{newCourseName:"",errorEmptyName:!1}},methods:{createCourse:function(){if(this.newCourseName&&""!==this.newCourseName.trim()){var e=this.newCourseName;this.$emit("create-course",e),this.hide(),this.newCourseName=""}else this.errorEmptyName=!0},hide:function(){this.$emit("hide")}}}),ie=se,ae=Object(l["a"])(ie,ne,re,!1,null,"4aa97042",null),oe=ae.exports,ue={name:"teacher-course-list",components:{"course-create-form":oe,"course-list-item":te},data:function(){return{createFormVisible:!1}},props:{value:Array},computed:{sortedCourseList:function(){return this.value.slice().sort((function(e,t){return t.updatedAt-e.updatedAt}))}},methods:{showCreateForm:function(){this.createFormVisible=!0},hideCreateForm:function(){this.createFormVisible=!1},createCourse:function(e){this.$emit("create-course",e)}}},ce=ue,le=Object(l["a"])(ce,J,G,!1,null,"9a4a6a62",null),de=le.exports,me={name:"TeacherView",components:{"teacher-course-list":de},data:function(){return{courseList:[]}},created:function(){var e=this;P.findAllMyCourse().then((function(t){e.courseList=t.data})).catch(console.error)},methods:{createCourse:function(e){var t=this;P.create(e).then((function(e){t.courseList.unshift(e)})).catch(console.error)}}},he=me,fe=Object(l["a"])(he,Y,B,!1,null,"a26ad00e",null),pe=fe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[n("h2",{staticClass:"title",staticStyle:{"text-align":"center"}},[e._v("ReviZoodle")]),n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column",staticStyle:{"text-align":"center","margin-top":"1rem",padding:"1rem"}},[n("h4",[e._v("Enseignants")]),n("hr"),e._m(0),n("router-link",{staticClass:"button button-primary u-full-width",attrs:{to:"/teacher"}},[e._v("Accès enseignant")]),n("hr")],1),n("div",{staticClass:"one-half column",staticStyle:{"text-align":"center","margin-top":"1rem",padding:"1rem"}},[n("h4",[e._v("Étudiants")]),n("hr"),e._m(1),n("router-link",{staticClass:"button button-primary u-full-width",attrs:{to:"/learner"}},[e._v("Accès étudiant")]),n("hr")],1)])])},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("Importez vos QCM Moodle")]),n("li",[e._v("Entrainez vos étudiants facilement")]),n("li",[e._v("Consultez les résultats en 1 clin d'oeil")]),n("li",[e._v("100% RGPD")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("Répondez aux questions de vos enseignants")]),n("li",[e._v("Une interface simple et claire")]),n("li",[e._v("Entrainez-vous encore et encore")]),n("li",[e._v("100% RGPD")])])}],_e={name:"HomeView",components:{}},ge=_e,qe=(n("2617"),Object(l["a"])(ge,ve,be,!1,null,"52892fd6",null)),ye=qe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:e.backRouterLink,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v("Question "+e._s(e.currentQuestionIndex)+" / "+e._s(e.nbQuestions))])],1),n("question",e._b({},"question",e.currentQuestion,!1)),n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column"},[e.questionIndex>1?n("router-link",{attrs:{to:"/teacher/quiz/"+e.quizId+"/question/"+e.previousIndex,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[e._v(" < ")])]}}],null,!1,1592209410)}):e._e(),e.questionIndex<=1?n("button",{staticClass:"u-full-width",attrs:{disabled:""}},[e._v(" < ")]):e._e(),n("div",{staticClass:"u-full-width"},[e._v(" ")])],1),n("div",{staticClass:"one-half column"},[e.questionIndex<e.nbQuestions?n("router-link",{attrs:{to:"/teacher/quiz/"+e.quizId+"/question/"+e.nextIndex,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[e._v(" > ")])]}}],null,!1,2011718528)}):e._e(),e.questionIndex>=e.nbQuestions?n("button",{staticClass:"u-full-width",attrs:{disabled:""}},[e._v(" > ")]):e._e()],1)])])],1)},we=[],Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"questionEl",staticClass:"question-container"},[n("span",{domProps:{innerHTML:e._s(e.statement)}}),e._l(e.answers,(function(t,r){return n("div",{key:"answer-"+r},[n("answer",{attrs:{text:t.text,"score-fraction":t.scoreFraction,multichoice:"multichoice"===e.type,feedback:t.feedback}})],1)})),e.explanation?[e._m(0),n("span",{domProps:{innerHTML:e._s(e.explanation)}})]:e._e()],2)},je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticStyle:{"margin-top":"2em"}},[n("strong",[e._v("Explication :")])])}],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"bouton-reponse u-full-width",class:{"bouton-vert":"correct"===e.scoreColor,"bouton-jaune":"partially-correct"===e.scoreColor,"bouton-orange":"incorrect"===e.scoreColor}},[n("span",{domProps:{innerHTML:e._s(e.text)}})]),n("small",{domProps:{innerHTML:e._s(e.feedback)}})])},Ie=[],xe={name:"answer",props:{text:String,feedback:String,scoreFraction:Number,multichoice:Boolean},computed:{scoreColor:function(){return 100===this.scoreFraction||this.multichoice&&this.scoreFraction>0?"correct":this.scoreFraction<=0?"incorrect":!this.multichoice&&this.scoreFraction>0?"partially-correct":""}}},Se=xe,Ae=Object(l["a"])(Se,ke,Ie,!1,null,"1c4a3dde",null),Te=Ae.exports,Le={name:"question",components:{Answer:Te},props:{name:String,statement:String,answers:Array,explanation:String,type:String},mounted:function(){this.renderMathJax()},updated:function(){this.renderMathJax()},methods:{renderMathJax:function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.questionEl])}}},Qe=Le,Me=Object(l["a"])(Qe,Ce,je,!1,null,"6b3a1109",null),Ee=Me.exports,Ne=function(){function e(){Object(E["a"])(this,e)}return Object(N["a"])(e,[{key:"get",value:function(e){return F.get("/quiz/".concat(e))}},{key:"getWithLastTraining",value:function(e){return new Promise((function(t,n){F.get("/quiz/".concat(e,"/latest-training")).then((function(e){t(e.data)})).catch(n)}))}},{key:"findAllMyQuiz",value:function(){return new Promise((function(e,t){return F.get("/quiz").then((function(t){e(t.data.map((function(e){return Object(z["a"])(Object(z["a"])({},e),{},{date:k()(e.date).toDate()})})))})).catch((function(e){t(e)}))}))}},{key:"getResults",value:function(e){return new Promise((function(t,n){F.get("/quiz/".concat(e,"/results")).then((function(e){t(e.data)})).catch(n)}))}}]),e}(),Oe=new Ne,$e={name:"quiz-view",components:{Question:Ee},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0},questionIndex:{type:[Number,String]}},data:function(){return{quiz:{name:"",questions:[]},backRouterLink:{name:"QuizListView"}}},created:function(){var e=this;this.courseId&&(this.backRouterLink={name:"CourseAddQuizAction",params:{courseId:this.courseId},hash:"#quiz-".concat(this.quizId)}),Oe.get(this.quizId).then((function(t){e.quiz=t.data})).catch(console.error)},computed:{currentQuestionIndex:function(){return Math.max(Math.min(this.questionIndex,this.nbQuestions),1)},currentQuestion:function(){return this.quiz&&this.quiz.questions&&this.quiz.questions.length?this.quiz.questions[this.currentQuestionIndex-1]:null},nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0},previousIndex:function(){return Math.max(this.currentQuestionIndex-1,1)},nextIndex:function(){return Math.min(this.currentQuestionIndex+1,this.nbQuestions)}}},Fe=$e,De=Object(l["a"])(Fe,ze,we,!1,null,"61a7e211",null),Pe=De.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("div",{staticClass:"row"},[e._m(0),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:"/teacher/moodle-upload",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[e._v(" Importer ")])]}}])})],1)]),n("quiz-list",{attrs:{"quiz-list":e.quizList}})],1)},Ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"two-thirds column"},[n("h4",{staticStyle:{"margin-bottom":"1em"}},[e._v("Mes quiz")])])}],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.sortedQuizList,(function(t){return n("quiz-list-item",{key:"quiz"+t.id,attrs:{courseId:e.courseId,id:t.id,name:t.name,date:t.date,"nb-questions":t.nbQuestions,"mode-add-quiz":e.modeAddQuiz},on:{"add-quiz-to-course":e.addQuizToCourse}})})),n("hr")],2)},He=[],Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[e._v(e._s(e.name))])])])]),n("div",{ref:"quiz-"+e.id,staticClass:"row",attrs:{id:"`quiz-${id}`"}},[n("div",{staticClass:"one-third column"},[n("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.nbQuestions)+" questions")])]),e.modeAddQuiz?e._e():n("div",{staticClass:"one-third column"},[e._v(" ")]),n("div",{staticClass:"one-third column"},[n("router-link",{attrs:{to:{name:"QuizView",params:{courseId:e.courseId,quizId:e.id,questionIndex:1}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"u-full-width",on:{click:r}},[e._v(" Voir ")])]}}])})],1),e.modeAddQuiz?n("div",{staticClass:"one-third column"},[n("button",{staticClass:"button-primary u-full-width",on:{click:e.addQuizToCourse}},[e._v("Choisir")])]):e._e()])])},Be=[],Je={name:"quiz-list-item",props:{courseId:{type:[Number,String],default:null},id:Number,name:String,date:Date,nbQuestions:Number,modeAddQuiz:{type:Boolean,default:!1}},methods:{moment:k.a,addQuizToCourse:function(){this.$emit("add-quiz-to-course",this.id)}}},Ge=Je,We=Object(l["a"])(Ge,Ye,Be,!1,null,"229f47ce",null),Ze=We.exports,Ke={name:"quiz-list",components:{"quiz-list-item":Ze},props:{courseId:{type:[Number,String],default:null},"quiz-list":Array,modeAddQuiz:{type:Boolean,default:!1}},computed:{sortedQuizList:function(){return this.quizList.slice().sort((function(e,t){return t.date-e.date}))}},methods:{addQuizToCourse:function(e){this.$emit("add-quiz-to-course",e)}}},Xe=Ke,et=Object(l["a"])(Xe,Re,He,!1,null,"6c407383",null),tt=et.exports,nt={name:"quiz-list-view",components:{"quiz-list":tt},props:{courseId:{type:Number,default:-1}},data:function(){return{quizList:[]}},created:function(){var e=this;Oe.findAllMyQuiz().then((function(t){e.quizList=t.slice().sort((function(e,t){return t.date-e.date}))})).catch(console.error)},computed:{isAddQuizMode:function(){return this.courseId>0}}},rt=nt,st=Object(l["a"])(rt,Ve,Ue,!1,null,"5604e50e",null),it=st.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"CourseAddQuizAction",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v("Importer un quiz Moodle")])],1),n("div",{staticClass:"row"},[n("form",{on:{submit:e.upload}},[n("input",{ref:"xmlFile",staticStyle:{display:"none"},attrs:{type:"file",name:"xmlFile"},on:{change:e.onFilePicked}}),e.showForm?[n("label",{attrs:{for:"inputQuizName"}},[e._v("Nom :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.quizName,expression:"quizName"}],staticClass:"u-full-width",attrs:{type:"text",placeholder:"1A Phys1 S1",id:"inputQuizName"},domProps:{value:e.quizName},on:{input:function(t){t.target.composing||(e.quizName=t.target.value)}}}),n("button",{staticClass:"button-primary",attrs:{type:"submit",disabled:null===e.xmlFile}},[e._v(" Importer ")])]:e._e()],2)])])},ot=[],ut=(n("b0c0"),n("5319"),{name:"MoodleQuizUploadForm",data:function(){return{quizName:"",xmlFileDataUrl:null,xmlFile:null,showForm:!1,courseId:null}},created:function(){this.$route.query.courseId&&(this.courseId=this.$route.query.courseId)},mounted:function(){this.pickFile()},methods:{pickFile:function(){this.$refs.xmlFile.click()},upload:function(e){var t=this;if(e.preventDefault(),!this.xmlFile)return!1;var n=new FormData;n.append("xmlFile",this.xmlFile),n.append("quizName",this.quizName),F.post("xml/upload",n).then((function(e){e.data.success?t.courseId?t.$router.push("/teacher/course/".concat(t.courseId,"/add-quiz-action")):t.$router.push("/teacher/quiz"):(alert("Le quiz n'a pas pu être importé"),console.err(e.data.error))})).catch(console.error)},onFilePicked:function(e){var t=this,n=e.target.files,r=n[0].name;this.quizName=r.replace(/\.[^/.]+$/,"");var s=new FileReader;s.addEventListener("load",(function(){t.xmlFileDataUrl=s.result})),s.readAsDataURL(n[0]),this.xmlFile=n[0],this.showForm=!0}}}),ct=ut,lt=Object(l["a"])(ct,at,ot,!1,null,"030b8c84",null),dt=lt.exports,mt=n("2106"),ht=n.n(mt),ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-link",{attrs:{to:{name:"CourseView",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center","margin-top":"3%"}},[e._v('Ajouter un quiz au cours "'+e._s(e.course.name)+'"')]),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("router-link",{attrs:{to:{name:"MoodleQuizUploadForm",query:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[e._v(" Importer un quiz Moodle ")])]}}])}),n("quiz-list",{attrs:{"quiz-list":e.quizList,courseId:e.courseId,"mode-add-quiz":!0},on:{"add-quiz-to-course":e.addQuizToCourse}})],1)},pt=[],vt={name:"course-add-quiz-view",components:{"quiz-list":tt},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{course:{name:""},quizList:[]}},created:function(){var e=this;P.get(this.courseId).then((function(t){e.course=t.data})).catch((function(e){console.error(e)})),Oe.findAllMyQuiz().then((function(t){e.quizList=t.slice().sort((function(e,t){return t.date-e.date}))})).catch(console.error)},methods:{addQuizToCourse:function(e){var t=this;P.addQuiz(this.courseId,e).then((function(){pr.push("/teacher/course/".concat(t.courseId))})).catch((function(e){console.error(e)}))}}},bt=vt,_t=Object(l["a"])(bt,ft,pt,!1,null,"63b586fa",null),gt=_t.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("learner-course-list",{attrs:{value:e.courseList}})},yt=[],zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("router-link",{attrs:{to:"/",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center","margin-top":"3%"}},[e._v("Mes cours")]),e.sortedCourseList&&e.sortedCourseList.length?e._e():[n("p",[e._v("Vous n'êtes abonné aucun cours.")])],e.sortedCourseList&&e.sortedCourseList.length?[n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",e._l(e.sortedCourseList,(function(e){return n("learner-course-list-item",{key:"course-"+e.id,attrs:{name:e.name,id:e.id,date:e.date}})})),1)]),n("hr")]:e._e()],2)},wt=[],Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:e.id}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("tr",{staticStyle:{cursor:"pointer"},on:{click:r}},[n("th",[e._v(e._s(e.name))]),n("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.moment(e.date).format("L")))]),n("td",{staticStyle:{"text-align":"right"}},[n("router-link",{staticClass:"bouton-avance",attrs:{to:{name:"LearnerCourseView",params:{courseId:e.id}}}},[e._v("> ")])],1)])]}}])})},jt=[],kt={name:"learner-course-list-item",props:{id:{type:[Number,String],required:!0},name:String,date:Date},methods:{moment:k.a}},It=kt,xt=Object(l["a"])(It,Ct,jt,!1,null,"c5f07720",null),St=xt.exports,At={name:"learner-course-list",components:{"learner-course-list-item":St},props:{value:Array},computed:{sortedCourseList:function(){return this.value.slice().sort((function(e,t){return t.updatedAt-e.updatedAt}))}}},Tt=At,Lt=Object(l["a"])(Tt,zt,wt,!1,null,"4b00571a",null),Qt=Lt.exports,Mt=function(){function e(){Object(E["a"])(this,e)}return Object(N["a"])(e,[{key:"findAllMyRegisteredCourse",value:function(){return new Promise((function(e,t){return F.get("/learner/course").then((function(t){e(t.data.map((function(e){return Object(z["a"])(Object(z["a"])({},e),{},{date:k()(e.date).toDate()})})))})).catch((function(e){t(e)}))}))}},{key:"findAllTrainingsForCourse",value:function(e){return new Promise((function(t,n){F.get("/learner/course/".concat(e)).then((function(e){t(e.data.map((function(e){return Object(z["a"])(Object(z["a"])({},e),{},{quizDate:k()(e.date).toDate()})})))})).catch((function(e){n(e)}))}))}},{key:"updateLearnerAnswers",value:function(e,t,n){return new Promise((function(r,s){var i=new FormData;i.append("questionIndex",t),i.append("learnerAnswers",JSON.stringify(n)),F.put("/learner/training/".concat(e),i).then(r).catch(s)}))}},{key:"updateScore",value:function(e,t){return new Promise((function(n,r){var s=new FormData;s.append("score",t),F.put("/learner/training/".concat(e,"/score"),s).then(n).catch(r)}))}},{key:"redoTraining",value:function(e){return new Promise((function(t,n){F.post("/quiz/".concat(e,"/redo-training")).then(t).catch(n)}))}}]),e}(),Et=new Mt,Nt={name:"LearnerView",components:{"learner-course-list":Qt},data:function(){return{courseList:[]}},created:function(){var e=this;Et.findAllMyRegisteredCourse().then((function(t){e.courseList=t})).catch(console.error)}},Ot=Nt,$t=Object(l["a"])(Ot,qt,yt,!1,null,"5da24a7a",null),Ft=$t.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:"/learner",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.course.name))])],1),n("hr",{staticStyle:{"margin-bottom":"2rem"}}),n("training-list",{attrs:{"training-list":e.quizTrainingList,"course-id":e.courseId}})],1)},Pt=[],Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.trainingList,(function(t){return n("training-list-item",{key:"training-"+t.quizId,attrs:{"course-id":e.courseId,"quiz-id":t.quizId,"quiz-title":t.quizTitle,"quiz-date":t.quizDate,"last-training-current-question":t.lastTrainingCurrentQuestion,"quiz-nb-questions":t.quizNbQuestions,score:t.score}})})),1)},Ut=[],Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("th",[e._v(e._s(e.quizTitle))]),n("td",{staticStyle:{"text-align":"right","min-width":"9em"}},[n("strong",[e._v(e._s(e.displayedStatus))])])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"two-thirds column"},[n("table",{staticClass:"u-full-width"},[n("tbody",[n("tr",[n("td",[e._v(e._s(e.moment(e.quizDate).format("L")))]),n("td",[e._v(e._s(e.quizNbQuestions)+" question(s)")])])])])]),n("div",{staticClass:"one-third column"},[null===e.score?n("router-link",{attrs:{to:{name:"PlayQuiz",params:{courseId:e.courseId,quizId:e.quizId,questionIndex:1}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[null==e.lastTrainingCurrentQuestion?n("button",{staticClass:"button-primary u-full-width",on:{click:r}},[e._v(" Démarrer ")]):n("button",{staticClass:"button-warning u-full-width",on:{click:r}},[e._v(" Continuer ")])]}}],null,!1,1401664482)}):e._e(),null!==e.score?n("button",{staticClass:"button-primary u-full-width",on:{click:e.redoTraining}},[e._v(" Refaire ")]):e._e()],1)]),n("hr")])},Ht=[],Yt=(n("99af"),{name:"training-list-item",props:{quizId:[Number,String],courseId:[Number,String],quizTitle:String,quizDate:Date,lastTrainingCurrentQuestion:Number,quizNbQuestions:Number,score:Number},computed:{displayedStatus:function(){return null===this.lastTrainingCurrentQuestion?"Non démarré":null===this.score?"Avancement : ".concat(this.lastTrainingCurrentQuestion+1,"/").concat(this.quizNbQuestions):"Score : ".concat(this.score,"%")}},methods:{moment:k.a,redoTraining:function(){var e=this;Et.redoTraining(this.quizId).then((function(){e.$router.push({name:"PlayQuiz",params:{courseId:e.courseId,quizId:e.quizId,questionIndex:1}})})).catch(console.error)}}}),Bt=Yt,Jt=Object(l["a"])(Bt,Rt,Ht,!1,null,"1ce971c8",null),Gt=Jt.exports,Wt={name:"TrainingList",components:{"training-list-item":Gt},props:{courseId:[Number,String],trainingList:Array}},Zt=Wt,Kt=Object(l["a"])(Zt,Vt,Ut,!1,null,"e3ddc7e0",null),Xt=Kt.exports,en={name:"course-view",components:{"training-list":Xt},props:{courseId:{type:[Number,String],required:!0}},data:function(){return{course:{id:-1,teacherUuid:"",name:"",updatedAt:null,quizList:[]},quizTrainingList:[]}},created:function(){var e=this;P.get(this.courseId).then((function(t){e.course=t.data})).catch(console.error),Et.findAllTrainingsForCourse(this.courseId).then((function(t){e.quizTrainingList=t})).catch(console.error)}},tn=en,nn=Object(l["a"])(tn,Dt,Pt,!1,null,"072394f5",null),rn=nn.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[n("h4",[e._v("Inscription au cours")]),n("hr",{staticStyle:{"margin-bottom":"2em"}}),"loading"===e.state?n("p",[e._v("Opération en cours...")]):e._e(),"error"===e.state?n("div",[n("p",[e._v("Echec de l'inscription au cours.")]),n("code",[e._v(e._s(e.error))])]):e._e(),n("hr")])},an=[],on={name:"RegisterCourseView",props:{courseId:[Number,String]},data:function(){return{state:"loading",error:null}},created:function(){var e=this;P.register(this.courseId).then((function(){e.state="done",e.$router.push({name:"LearnerCourseView",params:{courseId:e.courseId}})})).catch((function(t){e.state="error",e.error=t,console.error(t)}))}},un=on,cn=Object(l["a"])(un,sn,an,!1,null,"18c51214",null),ln=cn.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.state!==e.States.COMPLETED&&e.currentQuestionIndex>0?n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}],null,!1,4266436430)}),n("h5",{staticStyle:{"text-align":"center"}},[e._v("Question "+e._s(e.currentQuestionIndex)+" / "+e._s(e.nbQuestions))])],1),n("learner-question",e._b({attrs:{index:e.currentQuestionIndex,learnerAnswer:e.quiz.learnerAnswers[e.currentQuestionIndex-1]},on:{submitLearnerAnswer:e.submitLearnerAnswer}},"learner-question",e.quiz.questions[e.currentQuestionIndex-1],!1)),e.state===e.States.SUBMITTED&&e.currentQuestionIndex<e.nbQuestions?n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:e.nextQuestion}},[e._v("Question suivante")])])]):e._e(),e.state===e.States.SUBMITTED&&e.currentQuestionIndex===e.nbQuestions?n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:e.finalizeTraining}},[e._v("Terminer")])])]):e._e()],1):e._e(),e.state===e.States.COMPLETED?n("training-result",{attrs:{score:e.trainingScore,"quiz-id":e.quizId,"course-id":e.courseId},on:{"restart-training":e.startTraining}}):e._e()],1)},mn=[],hn=(n("c740"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question-container"},[n("span",{domProps:{innerHTML:e._s(e.statement)}}),"multichoice"===e.type?n("p",{staticStyle:{"font-style":"italic","margin-bottom":"2em","margin-top":"1em"}},[e._v(" Sélectionnez toutes les réponses correctes ")]):e._e(),e._l(e.answers,(function(t,r){return n("div",{key:"answer-"+r},[n("choice",{attrs:{"choice-index":r,text:t.text,"is-selected":e.learnerAnswer.choices[r],"show-answer":e.learnerAnswer.submitted,"score-fraction":t.scoreFraction,feedback:t.feedback,multichoice:e.isMultipleChoice},on:{selectChoice:e.selectChoice,unselectChoice:e.unselectChoice}})],1)})),e.learnerAnswer.submitted&&(e.feedbacks.length>0||e.explanation)?n("div",{staticStyle:{"margin-top":"3%"}},[e._m(0),e._l(e.feedbacks,(function(t,r){return n("p",{key:r,domProps:{innerHTML:e._s(t)}})})),n("p",{domProps:{innerHTML:e._s(e.explanation)}})],2):e._e(),e.learnerAnswer.submitted?e._e():n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"row"},[n("button",{staticClass:"button-primary u-full-width",on:{click:e.submit}},[e._v("Soumettre")])])])],2)}),fn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("strong",[e._v("Explication :")])])}],pn=(n("4de4"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{staticClass:"bouton-reponse u-full-width",class:{"bouton-selectionne":this.isSelected&&!this.showAnswer,"bouton-vert":"correct"===e.scoreColor,"bouton-jaune":"partially-correct"===e.scoreColor,"bouton-orange":"incorrect"===e.scoreColor},attrs:{href:"."},domProps:{innerHTML:e._s(e.text)},on:{click:e.clickChoice}})])}),vn=[],bn={name:"choice",props:{choiceIndex:Number,text:String,showAnswer:Boolean,isSelected:Boolean,feedback:String,scoreFraction:Number,multichoice:Boolean},computed:{scoreColor:function(){return this.showAnswer?100===this.scoreFraction||this.multichoice&&this.scoreFraction>0?"correct":this.isSelected&&this.scoreFraction<=0?"incorrect":this.isSelected&&!this.multichoice&&this.scoreFraction>0?"partially-correct":"":null}},methods:{clickChoice:function(e){e.preventDefault(),this.showAnswer||(this.isSelected?this.$emit("unselectChoice",this.choiceIndex):this.$emit("selectChoice",this.choiceIndex))}}},_n=bn,gn=Object(l["a"])(_n,pn,vn,!1,null,"28e7b307",null),qn=gn.exports,yn={name:"learner-question",components:{Choice:qn},props:{index:Number,statement:String,answers:Array,explanation:String,learnerAnswer:Object,type:String},computed:{isMultipleChoice:function(){return"multichoice"===this.type},feedbacks:function(){var e=this;return this.learnerAnswer.submitted?this.answers.filter((function(t,n){return e.learnerAnswer.choices[n]&&t.feedback})).map((function(e){return e.feedback})):[]}},mounted:function(){this.renderMathJax()},updated:function(){this.renderMathJax()},methods:{selectChoice:function(e){var t=this;this.isMultipleChoice||this.answers.forEach((function(e,n){t.$set(t.learnerAnswer.choices,n,!1)})),this.$set(this.learnerAnswer.choices,e,!0)},unselectChoice:function(e){this.isMultipleChoice&&this.$set(this.learnerAnswer.choices,e,!1)},submit:function(){this.learnerAnswer.score=zn(this.answers,this.learnerAnswer,this.isMultipleChoice),this.$emit("submitLearnerAnswer",this.learnerAnswer)},renderMathJax:function(){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.questionEl])}}},zn=function(e,t,n){var r=e.reduce((function(e,n,r){return t.choices[r]?e+n.scoreFraction:e}),0);return n?Math.max(0,r):r},wn=yn,Cn=Object(l["a"])(wn,hn,fn,!1,null,"104fb05f",null),jn=Cn.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"10%"}},[n("h2",[e._v(e._s(e.trainingFeedback))]),n("p",[e._v("Votre score est de "),n("strong",[n("span",{attrs:{id:"valeur_score_bilan"}},[e._v(e._s(e.score))]),e._v("%")]),e._v(". Que voulez-vous faire ?")]),n("button",{staticClass:"button-primary u-full-width",on:{click:e.redoTraining}},[e._v("Recommencer")]),n("router-link",{attrs:{to:{name:"LearnerCourseView",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{staticClass:"button u-full-width",on:{click:r}},[e._v("Changer de thème")])]}}])})],1)},In=[],xn={name:"training-result",props:{score:Number,quizId:[Number,String],courseId:[Number,String]},data:function(){return{trainingFeedback:""}},created:function(){this.score<50?this.trainingFeedback="C'est un bon début.":this.score<100?this.trainingFeedback="Bien joué.":this.trainingFeedback="Bravo !"},methods:{redoTraining:function(){var e=this;Et.redoTraining(this.quizId).then((function(){e.$emit("restart-training")})).catch(console.error)}}},Sn=xn,An=Object(l["a"])(Sn,kn,In,!1,null,"3ac25f15",null),Tn=An.exports,Ln={LOADING:"loading",ANSWERING:"answering",SUBMITTING:"submitting",SUBMITTED:"submitted",COMPLETED:"completed"},Qn={name:"learner-quiz-view",components:{LearnerQuestion:jn,TrainingResult:Tn},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0}},data:function(){return{trainingId:-1,trainingScore:-1,States:Ln,state:Ln.LOADING,quizTitle:"",questionIndex:{},learnerAnswerIndex:{},quiz:{name:"",questions:[],learnerAnswers:{}},currentQuestionIndex:-1}},created:function(){this.startTraining()},computed:{nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0}},methods:{scrollToTop:function(){window.scrollTo(0,0)},nextQuestion:function(){this.currentQuestionIndex<this.nbQuestions&&(this.currentQuestionIndex++,this.state=Ln.ANSWERING,this.scrollToTop())},submitLearnerAnswer:function(){var e=this;this.state=Ln.SUBMITTING,Et.updateLearnerAnswers(this.trainingId,this.currentQuestionIndex-1,this.quiz.learnerAnswers).then((function(t){e.state=Ln.SUBMITTED,e.quiz.learnerAnswers=t.data})).catch(console.error)},finalizeTraining:function(){var e=this;this.trainingScore=Mn(this.quiz.learnerAnswers,this.quiz.questions.length),Et.updateScore(this.trainingId,this.trainingScore).then((function(){e.state=Ln.COMPLETED})).catch(console.error)},startTraining:function(){var e=this;Oe.getWithLastTraining(this.quizId).then((function(t){e.state=Ln.ANSWERING,e.quiz=t,e.quizTitle=t.name,e.trainingId=t.trainingId,e.currentQuestionIndex=1+e.quiz.learnerAnswers.findIndex((function(e){return!1===e.submitted})),0===e.currentQuestionIndex&&(e.state=Ln.COMPLETED)})).catch(console.error)}}},Mn=function(e,t){return Math.round(e.reduce((function(e,t){return e+t.score}),0)/t)},En=Qn,Nn=Object(l["a"])(En,dn,mn,!1,null,"3887588a",null),On=Nn.exports,$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"CourseView",params:{courseId:e.courseId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.quizName))])],1),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"one-half column"},[n("p",[n("strong",[e._v("Nombre de répondants : ")]),e._v(e._s(e.nbLearners?e.nbLearners:"-"))])]),n("div",{staticClass:"one-half column"},[n("p",[n("strong",[e._v("Nombre d'essais : ")]),e._v(e._s(e.nbAttempts?e.nbAttempts:"-"))])])]),n("p",[n("strong",[e._v("Moyenne (au premier essai) : ")]),e._v(e._s(null!==e.mean1stTry?e.mean1stTry+" %":"-"))]),n("hr"),n("table",{staticClass:"u-full-width"},[n("tbody",{attrs:{id:"body_table_scores_questions"}},e._l(e.results1stAttempt,(function(t,r){return n("tr",{key:r},[n("th",[e._v("Question "+e._s(r+1))]),n("td",[e._v(e._s(null!==t?t+" %":"-"))]),n("router-link",{attrs:{to:{name:"SingleQuestionView",params:{courseId:e.courseId,quizId:e.quizId,questionIndex:r+1}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("td",{staticClass:"bouton-avance",staticStyle:{"text-align":"right"},on:{click:r}},[e._v(">")])]}}],null,!0)})],1)})),0)])])},Fn=[],Dn={name:"quiz-results-view",props:{courseId:[Number,String],quizId:[Number,String]},data:function(){return{quizName:"loading...",nbLearners:null,nbAttempts:null,mean1stTry:null,results1stAttempt:[]}},created:function(){var e=this;Oe.getResults(this.quizId).then((function(t){e.quizName=t.quizName,e.nbLearners=t.nbLearners,e.nbAttempts=t.nbAttempts,e.results1stAttempt=t.results1stAttempt,e.results1stAttempt.length>0&&t.nbAttempts>0?e.mean1stTry=Math.round(e.results1stAttempt.reduce((function(e,t){return e+t}),0)/e.results1stAttempt.length):e.mean1stTry=null})).catch(console.error)}},Pn=Dn,Vn=Object(l["a"])(Pn,$n,Fn,!1,null,"0a7f6261",null),Un=Vn.exports,Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("router-link",{attrs:{to:{name:"QuizResultsView",params:{courseId:this.courseId,quizId:this.quizId}},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center"}},[e._v("Question "+e._s(e.currentQuestionIndex)+" / "+e._s(e.nbQuestions))])],1),n("question",e._b({},"question",e.currentQuestion,!1))],1)},Hn=[],Yn={name:"single-quiz-view",components:{Question:Ee},props:{courseId:{type:[Number,String],default:null},quizId:{type:[Number,String],required:!0},questionIndex:{type:[Number,String]}},data:function(){return{quiz:{name:"",questions:[]}}},created:function(){var e=this;this.courseId&&(this.backRouterLink={name:"CourseAddQuizAction",params:{courseId:this.courseId}}),Oe.get(this.quizId).then((function(t){e.quiz=t.data})).catch(console.error)},computed:{currentQuestionIndex:function(){return Math.max(Math.min(this.questionIndex,this.nbQuestions),1)},currentQuestion:function(){return this.quiz&&this.quiz.questions&&this.quiz.questions.length?this.quiz.questions[this.currentQuestionIndex-1]:null},nbQuestions:function(){return this.quiz&&this.quiz.questions?this.quiz.questions.length:0}}},Bn=Yn,Jn=Object(l["a"])(Bn,Rn,Hn,!1,null,"3b72d990",null),Gn=Jn.exports,Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"3%"}},[n("div",{staticClass:"bouton-retour",on:{click:function(t){return e.$router.go(-1)}}},[n("h5",[e._v("<")])]),n("h5",{staticStyle:{"text-align":"center"}},[e._v("Compte utilisateur")])]),e.needTeacherAccess?n("div",{staticClass:"row"},[n("p",[e._v('Vous essayer d\'accéder à une page qui requiert le rôle "Enseignant".')])]):e._e(),n("div",{staticClass:"row"},[n("p",[n("strong",[e._v("Rôle")]),e._v(" : "+e._s(e.isTeacher?"Enseignant":"Étudiant")+" "),!1===e.isTeacher?n("span",[e._v("("),n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showTeacherAccessForm.apply(null,arguments)}}},[e._v("changer de rôle")]),e._v(")")]):e._e()])]),e.teacherAccessFormVisible?n("div",{staticClass:"row"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.requestTeacherAccess.apply(null,arguments)}}},[n("label",{attrs:{for:"teacherPassword"}},[e._v("Mot de passe :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.teacherPassword,expression:"teacherPassword"}],staticClass:"u-full-width",attrs:{type:"password",autocomplete:"current-password",placeholder:"Mot de passe enseignant",id:"teacherPassword"},domProps:{value:e.teacherPassword},on:{input:function(t){t.target.composing||(e.teacherPassword=t.target.value)}}}),null!==e.teacherAccessFormErrorMessage?n("div",[n("p",[n("em",[e._v(e._s(e.teacherAccessFormErrorMessage))])])]):e._e(),n("button",{staticClass:"button-primary u-full-width",attrs:{type:"submit"}},[e._v("Soumettre ")])])]):e._e(),n("div",{staticClass:"row"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.changeUuid.apply(null,arguments)}}},[e._m(0),n("label",{attrs:{for:"uuid"}},[e._v("Identifiant :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.uuid,expression:"uuid"}],staticClass:"u-full-width",attrs:{type:"text",placeholder:"Identifiant Revizoodle...",id:"uuid"},domProps:{value:e.uuid},on:{input:function(t){t.target.composing||(e.uuid=t.target.value)}}}),e.errorUuid?n("div",[e._m(1)]):e._e(),n("button",{staticClass:"button-success u-full-width",attrs:{type:"submit"}},[e._v("Modifier")]),e.updateUuidSuccessful?n("div",[e._m(2)]):e._e()])])])},Zn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("L'identifiant ci-dessous vous permet de retrouver vos données "),n("em",[e._v("Revizoodle")]),e._v(" sur un autre appareil. Pour cela, il vous suffit de copier celui-ci dans votre deuxième appareil (ou de recopier celui de votre deuxième appareil à la place de celui-ci), puis de cliquer sur le bouton Modifier.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("em",[e._v("Cet identifiant est incorrect")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("em",[e._v("Votre identifiant a été mis à jour.")])])}],Kn=n("ade3"),Xn=n("06e4"),er=function(){function e(){Object(E["a"])(this,e),Object(Kn["a"])(this,"cookie",null)}return Object(N["a"])(e,[{key:"getUUID",value:function(e){return e.get("uuid")}},{key:"changeUuid",value:function(e,t){return!!Object(Xn["a"])(e)&&(t.set("uuid",e,1/0),F.defaults.headers.uuid=t.get("uuid"),!0)}},{key:"saveTeacherTocken",value:function(e,t){t.set("teacherToken",e,1/0),F.defaults.headers.teachertoken=t.get("teacherToken")}},{key:"isTeacher",value:function(e){return!!e.get("teacherToken")}},{key:"checkIsTeacherOnServer",value:function(){return new Promise((function(e,t){F.get("/user/is-teacher").then((function(t){e(t.data.isTeacher)})).catch(t)}))}},{key:"requestTeacherAccess",value:function(e){var t=new FormData;return t.append("password",e),F.post("/user/request-teacher-access",t)}}]),e}(),tr=new er,nr={name:"UuidView",data:function(){return{uuid:"",updateUuidSuccessful:!1,errorUuid:!1,isTeacher:null,teacherPassword:"",teacherAccessFormVisible:!1,teacherAccessFormErrorMessage:null,needTeacherAccess:!1}},created:function(){this.uuid=this.$cookies.get("uuid"),this.isTeacher=tr.isTeacher(this.$cookies),this.needTeacherAccess=!!this.$route.query.needTeacherAccess},computed:{roleLabel:function(){return null===this.isTeacher?"-":this.isTeacher?"Enseignant":"Étudiant"}},methods:{changeUuid:function(){tr.changeUuid(this.uuid,this.$cookies)?(this.errorUuid=!1,this.updateUuidSuccessful=!0,this.isTeacher=null,this.isTeacher=tr.isTeacher(this.$cookies)):this.errorUuid=!0},showTeacherAccessForm:function(){this.teacherAccessFormVisible=!0},requestTeacherAccess:function(){var e=this;this.teacherAccessFormErrorMessage=null,tr.requestTeacherAccess(this.teacherPassword).then((function(t){tr.saveTeacherTocken(t.data.teacherToken,e.$cookies),e.isTeacher=!0,e.teacherAccessFormVisible=!1})).catch((function(t){t.response?e.teacherAccessFormErrorMessage=t.response.data.error.message:e.teacherAccessFormErrorMessage="L'opération n'a pas pu aboutir pour une raison inconnue. Veuillez réessayer."}))}}},rr=nr,sr=Object(l["a"])(rr,Wn,Zn,!1,null,"8cd3a77e",null),ir=sr.exports,ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-top":"1em"}},[n("router-link",{attrs:{to:"/",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("div",{staticClass:"bouton-retour",on:{click:r}},[n("h5",[e._v("<")])])]}}])}),n("h5",{staticStyle:{"text-align":"center","margin-top":"3%"}},[e._v("Désolé... Cette page n'existe pas...")])],1)},or=[],ur={name:"PageNotFound"},cr=ur,lr=Object(l["a"])(cr,ar,or,!1,null,"6d7a55c8",null),dr=lr.exports;r["a"].use(b["a"]),r["a"].use(ht.a,$.a);var mr=function(e,t,n){tr.isTeacher(fr.app.$cookies)?n():n({name:"UuidView",query:{needTeacherAccess:!0}})},hr=[{path:"/",name:"HomeView",component:ye},{path:"/teacher",name:"TeacherView",component:pe,beforeEnter:mr},{path:"/teacher/course/:courseId",name:"CourseView",component:H,props:!0,beforeEnter:mr},{path:"/teacher/course/:courseId/quiz/:quizId/results",name:"QuizResultsView",component:Un,props:!0,beforeEnter:mr},{path:"/teacher/course/:courseId/add-quiz-action",name:"CourseAddQuizAction",component:gt,props:!0,beforeEnter:mr},{path:"/teacher/quiz/:quizId",redirect:"/teacher/quiz/:quizId/question/1",beforeEnter:mr},{path:"/teacher/quiz/:quizId/question/:questionIndex",name:"QuizView",component:Pe,props:!0,beforeEnter:mr},{path:"/teacher/course/:courseId/quiz/:quizId/question/:questionIndex",name:"SingleQuestionView",component:Gn,props:!0,beforeEnter:mr},{path:"/teacher/course/:courseId/quiz/:quizId",name:"CourseQuizView",redirect:"/teacher/course/:courseId/quiz/:quizId/question/1",beforeEnter:mr},{path:"/teacher/course/:courseId/quiz/:quizId/question/:questionIndex",component:Pe,props:!0,beforeEnter:mr},{path:"/teacher/quiz",name:"QuizListView",component:it,beforeEnter:mr},{path:"/teacher/moodle-upload",name:"MoodleQuizUploadForm",component:dt,beforeEnter:mr},{path:"/learner",name:"LearnerView",component:Ft},{path:"/learner/course/:courseId",name:"LearnerCourseView",component:rn,props:!0},{path:"/learner/course/:courseId/register",name:"RegisterCourse",component:ln,props:!0},{path:"/learner/course/:courseId/quiz/:quizId",name:"PlayQuiz",component:On,props:!0},{path:"/uuid",name:"UuidView",component:ir,props:{aze:!1}},{path:"*",component:dr}],fr=new b["a"]({routes:hr,scrollBehavior:function(e){return e.hash?{selector:e.hash}:{x:0,y:0}}}),pr=fr,vr=n("2b27"),br=n.n(vr),_r=n("ec26");n("5635"),n("285b"),n("91ff"),n("a819"),n("4f8b");k.a.locale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")},meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return e<12?"PD":"MD"},week:{dow:1,doy:4}}),r["a"].config.productionTip=!0,r["a"].use(br.a),new r["a"]({router:pr,render:function(e){return e(v)},created:function(){null===this.$cookies.get("uuid")&&this.$cookies.set("uuid",Object(_r["a"])(),1/0),F.defaults.headers.uuid=this.$cookies.get("uuid"),F.defaults.headers.teachertoken=this.$cookies.get("teacherToken")}}).$mount("#app")},"91ff":function(e,t,n){},a819:function(e,t,n){}});
//# sourceMappingURL=app.f741a78b.js.map